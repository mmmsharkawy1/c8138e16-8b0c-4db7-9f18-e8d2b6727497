# Task: Modular Wholesale SaaS Platform

- [x] Phase 1: Domain Modeling
    - [x] Define Bounded Contexts
    - [x] Identify Core Entities
    - [x] Define Responsibilities & Boundaries
    - [x] Finalize Core vs Module separation
- [x] Phase 2: Core Database Schema Design
    - [x] Design SQL Schema for Core Domains
    - [x] Ensure Multi-tenancy & Auditability
    - [x] User Review & Approval
- [x] Phase 3: Row Level Security (RLS) & Access Control
    - [x] Design RLS Policies for Tenant Isolation
    - [x] Define RBAC Logic (Owner, Manager, Cashier, Accountant)
    - [x] User Review & Approval
- [/] Phase 4: Core Database Functions & Transaction Layer
    - [/] Design Inventory Functions (adjust_stock, reserve_stock)
    - [ ] Design Sales & Financial Functions (create_order, log_transaction)
    - [ ] Implement Automated Event Emission Logic
    - [ ] User Review & Approval
- [ ] Phase 5: Monorepo & Core Infrastructure Setup
    - [ ] Setup Supabase Project & Strict RLS Policies
    - [ ] Implement Tenant & User Management (Auth/RBAC)
    - [ ] Implement Event Log & System Audit Trails
    - [ ] Build Core Product & Inventory Engine (Transaction-based)
    - [ ] Build Rules-based Pricing Engine
    - [ ] Implement Internal Event Bus
- [ ] Modules (Pluggable)
    - [ ] Dashboard Module (Apps/Packages)
    - [ ] POS Module (Offline-first / IndexedDB)
    - [ ] Storefront Module (B2B workflow)
    - [ ] Localization & Tax Module
- [ ] Verification & Deployment
    - [ ] Test Tenant Isolation (Strict RLS)
    - [ ] Multi-unit conversion testing
    - [ ] Offline sync verification
